<!doctype html>
<html lang="pt-BR">

<head>
	<meta charset="utf-8" />
	<title>Inventário - App Local</title>
	<meta http-equiv="Content-Security-Policy" content="default-src 'self' https: 'unsafe-inline'">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" 
		integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
	<link rel="stylesheet" href="./styles.css">
</head>

<body class="bg-light">
	<div class="container py-4">
		<div class="d-flex justify-content-between align-items-center mb-3">
			<h2>Inventário local</h2>

			<div class="d-flex align-items-center gap-2">
				<input id="search-input" class="form-control form-control-sm" type="text"
					placeholder="Buscar produto..." style="width: 180px;">

				<button id="btn-refresh" class="btn btn-sm btn-outline-secondary"><i class="fa-solid fa-arrow-rotate-right"></i> Atualizar</button>
				<button id="btn-get-csv" class="btn btn-sm btn-outline-secondary"><i class="fa-solid fa-file-export"></i> Exportar produtos CSV</button>
			</div>
		</div>

		<div class="row">
			<div class="col-md-6">
				<div class="card mb-3">
					<div class="card-body">
						<h5 class="card-title">Adicionar / Editar produto</h5>
						<form id="product-form">
							<input type="hidden" id="product-id">
							<div class="mb-2">
								<label class="form-label">Nome</label>
								<input id="product-name" class="form-control" required>
							</div>
							<div class="row">
								<div class="col">
									<label class="form-label">Quantidade</label>
									<input id="product-quantity" type="number" class="form-control" min="0" value="0">
								</div>
								<div class="col">
									<label class="form-label">Mínimo</label>
									<input id="product-min" type="number" class="form-control" min="0" value="0">
								</div>
							</div>
							<div class="mb-2 mt-2">
								<label class="form-label">Fornecedor</label>
								<input id="product-category" class="form-control">
							</div>
							<div class="mb-2">
								<label class="form-label">Localização</label>
								<input id="product-location" class="form-control">
							</div>
							<div class="d-flex gap-2">
								<button class="btn btn-primary" type="submit">
									<i class="fa-solid fa-floppy-disk"></i>
									Salvar
								</button>
								<button id="product-cancel" type="button" class="btn btn-secondary">
									<i class="fa-solid fa-rotate-left"></i> Cancelar
								</button>
								<button id="product-delete" type="button" class="btn btn-danger ms-auto">
									<i class="fa-solid fa-trash"></i> Excluir
								</button>
							</div>
						</form>
					</div>
				</div>

				<div class="card">
					<div class="card-body">
						<h5 class="card-title">Registrar movimento</h5>
						<form id="movement-form" class="row g-2 align-items-end">
							<div class="col-6">
								<label class="form-label">Produto</label>
								<select id="movement-product" class="form-select"></select>
							</div>
							<div class="col-3">
								<label class="form-label">Tipo</label>
								<select id="movement-type" class="form-select">
									<option>ENTRADA</option>
									<option>SAÍDA</option>
								</select>
							</div>
							<div class="col-2">
								<label class="form-label">Quantidade</label>
								<input id="movement-quantity" type="number" class="form-control" min="1" value="1">
							</div>
							<div class="mb-2 mt-2">
								<label class="form-label">Preço Unitário</label>
								<input id="movement-price" step="0.01" class="form-control" type="number">
							</div>
							<div class="col-12">
								<label class="form-label">Nota</label>
								<input id="movement-note" class="form-control">
							</div>
							<div class="col-12">
								<button class="btn btn-success"><i class="fa-solid fa-truck-moving"></i>  Registrar movimento</button>
							</div>
						</form>
					</div>
				</div>

			</div>

			<div class="col-md-6">
				<div class="card mb-3">
					<div class="card-body">
						<h5 class="card-title">Produtos</h5>
						<table class="table table-sm" id="products-table">
							<thead>
								<tr>
									<th>Nome</th>
									<th>Fornecedor</th>
									<th>Qtde</th>
									<th>Mín.</th>
									<th>Ação</th>
								</tr>
							</thead>
							<tbody></tbody>
						</table>
						<div class="mt-3 d-flex align-items-center gap-3">
							<button class="btn btn-sm btn-secondary" id="prev-page">Anterior</button>
							<span id="page-info">Página 1</span>
							<button class="btn btn-sm btn-secondary" id="next-page">Proximo</button>
						</div>
						<div id="lowstock-alerts"></div>
					</div>
				</div>
				<div class="d-flex justify-content-end align-items-center mb-3">
					<div class="d-flex align-items-center gap-2">
						<input id="search-input-movement" class="form-control form-con trol-sm" type="text"
						placeholder="Buscar Movimentos..." style="width: 180px;">

					<button class="btn btn-sm btn-outline-secondary"><i class="fa-solid fa-file-export"></i> Exportar movimentos CSV</button>
					</div>
				</div>
				<div class="card">
					<div class="card-body">
						<h5 class="card-title">Movimentos</h5>
						<ul id="movements-list" class="list-group list-group-flush"></ul>

						<div class="mt-3 d-flex align-items-center gap-3">
							<button class="btn btn-sm btn-secondary" id="prev-page-movement">Anterior</button>
							<span id="page-info-movement">Página 1</span>
							<button class="btn btn-sm btn-secondary" id="next-page-movement">Proximo</button>
						</div>
					</div>
				</div>

			</div>
		</div>

		<footer class="mt-3 text-muted">
			Aplicativo local — inventario salvo no arquivo <code>inventario.db</code>
		</footer>
	</div>

	<script src="./renderer.js"></script>
</body>

</html>